{% extends "base.html" %}

{% block scripts %}
<script src="./budget.js"></script>
{% end %}

{% block header %}
	jFinance - Budget
{% end %}

{% block article %}
<form method="POST">
	<table id="budget">
		<tr>
			<th>Group</th>
			<th>Category</th>
			<th>Amount</th>
		</tr>
		{% set index = 0 %}
		{%for cat in budget%}
			<tr>
				<td>{{cat.group}}</td>
				<td>{{cat.name}}</td>
				<td>
					<input autocomplete="off" style="width: 6em" type="number" id="cat_{{index}}"  name="cat_{{cat.id}}" onchange="value_change()" value="{{cat.sum}}">
				</td>
			</tr>
		{% set index = index + 1 %}
		{% end %}
			<tr style="background-color:#555">
				<td><b>TOTAL</b></td><td id="total"><b>Calculating...</b></td>
			</tr>
		</table>
	<input id="add_btn" style="width: 6em" type="submit" value="Update" disabled>
</form>
{% end %}
